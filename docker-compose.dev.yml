# 실행: docker compose -f docker-compose.yml -f docker-compose.dev.yml up -d

services:
  postgres:
    ports:
      - "${POSTGRES_PORT:-5432}:5432"

  redis:
    ports:
      - "${REDIS_PORT:-6379}:6379"

  backend:
    build:
      dockerfile: Dockerfile.dev
    volumes:
      - ./apps/backend:/app
    ports:
      - "${BACKEND_PORT:-8000}:8000"

  frontend:
    build:
      dockerfile: Dockerfile.dev
    volumes:
      - ./apps/frontend:/app
      - /app/node_modules
    ports:
      - "${FRONTEND_PORT:-3000}:3000"
    environment:
      WATCHPACK_POLLING: "true"
